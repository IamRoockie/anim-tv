const topMenu=document.querySelector(".menu-top"),supportWindow=(document.querySelector(".menu-top__btn").onclick=()=>{topMenu.classList.remove("menu-top--hidden")},document.querySelector(".menu-top__close").onclick=()=>{topMenu.classList.add("menu-top--hidden")},document.querySelector(".support")),videoModal=(document.querySelector(".diamond").onclick=()=>{supportWindow.classList.add("support--active")},document.querySelector(".support__close").onclick=()=>{supportWindow.classList.remove("support--active")},document.querySelector(".modal-video")),tabs=(document.querySelector(".hero__watch").addEventListener("click",()=>{videoModal.classList.add("modal-video--show"),document.querySelector("body").style.overflow="hidden"}),document.querySelector(".modal-video__close").addEventListener("click",()=>{videoModal.classList.remove("modal-video--show"),document.querySelector("body").style.overflow="auto"}),setDateTime(),document.querySelectorAll(".browse__add").forEach(e=>{e.addEventListener("click",()=>{e.classList.contains("browse__add--active")?e.textContent="Add To Watch List":e.textContent="Added To Watch List",e.classList.toggle("browse__add--active")})}),document.querySelectorAll("[data-tab-name]")),movies=document.querySelectorAll("[data-tab-group]"),activeTab=document.querySelector(".browse__link.menu__link--active"),box=(toggleTab(activeTab,movies),tabs.forEach(e=>{e.addEventListener("click",function(){switchClass(e,tabs,"menu__link--active"),toggleTab(this,movies)})}),document.querySelector(".recommended__movies")),items=document.querySelectorAll(".recommended__movie"),prevBtn=document.querySelector(".recommended__btn--prev"),nextBtn=document.querySelector(".recommended__btn--next");let sizingsInfo,touchStart=(resize(),window.addEventListener("resize",resize),prevBtn.onclick=()=>{makeSlide("prev")},nextBtn.onclick=()=>{makeSlide("next")},null),touchEnd=null;function setDateTime(){var e=new Date,t=e.toLocaleString("en",{month:"short",day:"numeric"}),o=e.toLocaleString("en",{weekday:"long"}),e=e.toLocaleString("en",{hour12:!0,hour:"2-digit",minute:"2-digit"});document.querySelector(".header__time").textContent=e,document.querySelector(".header__date-day").textContent=t,document.querySelector(".header__date-week").textContent=o,setTimeout(setDateTime,1e3)}function switchClass(e,t,o){t.forEach(e=>e.classList.remove(o)),e.classList.add(o)}function toggleTab(e,t){const o=e.getAttribute("data-tab-name");t.forEach(e=>{(e.getAttribute("data-tab-group")!=o?hide:show)(e)})}function hide(e){e.style.opacity=0,setTimeout(()=>{e.style.display="none"},200)}function show(e){e.style.display="",setTimeout(()=>{e.style.opacity=1},10)}function makeSlide(o){const n=items[1].offsetLeft-items[0].offsetLeft;items.forEach(e=>{var t=+e.style.transform.split("(")[1].slice(0,-1).replace("px","");"prev"==o?e.style.transform=`translateX(${t+n}px)`:"next"==o?e.style.transform=`translateX(${t-n}px)`:console.error("Unknown operation to make slide")}),blockNavBtn(sizingsInfo.maxItems,sizingsInfo.gap)}function getSizingsInfo(e){return 900<=e?{maxItems:4,gap:20,padding:0}:700<=e&&e<900?{maxItems:3,gap:40,padding:40}:500<=e&&e<700?{maxItems:2,gap:50,padding:50}:{maxItems:1,gap:60,padding:60}}function resize(){items.forEach(e=>{e.style.transform="translateX(0px)"});var e=document.querySelector(".recommended__movies").offsetWidth;sizingsInfo=getSizingsInfo(e),box.style.gap=sizingsInfo.gap+"px",box.style.paddingLeft=sizingsInfo.padding+"px",box.style.paddingRight=sizingsInfo.padding+"px";const t=(e-2*sizingsInfo.padding-sizingsInfo.gap*(sizingsInfo.maxItems-1))/sizingsInfo.maxItems;items.forEach(e=>{e.style.minWidth=t+"px"}),blockNavBtn(sizingsInfo.maxItems,sizingsInfo.gap)}function blockNavBtn(e,t){"translateX(0px)"==items[0].style.transform?document.querySelector(".recommended__btn--prev").style.visibility="hidden":document.querySelector(".recommended__btn--prev").style.visibility="visible",items[items.length-1].style.transform==`translateX(-${items[0].offsetWidth*(items.length-e)+t*(items.length-e)}px)`?document.querySelector(".recommended__btn--next").style.visibility="hidden":document.querySelector(".recommended__btn--next").style.visibility="visible"}function TouchStart(e){touchStart=e.changedTouches[0].clientX,touchEnd=touchStart}function TouchMove(e){touchEnd=e.changedTouches[0].clientX}function TouchEnd(e,t){CheckAction(),touchStart=null,touchEnd=null}function CheckAction(){var e=touchStart-touchEnd,t=items[items.length-1].style.transform==`translateX(-${items[0].offsetWidth*(items.length-sizingsInfo.maxItems)+sizingsInfo.gap*(items.length-sizingsInfo.maxItems)}px)`;30<e&&!t?makeSlide("next"):e<-30&&"translateX(0px)"!=items[0].style.transform&&makeSlide("prev")}box.addEventListener("touchstart",function(e){TouchStart(e)}),box.addEventListener("touchmove",function(e){TouchMove(e)}),box.addEventListener("touchend",function(e){TouchEnd(e)});